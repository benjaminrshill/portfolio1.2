{"version":3,"sources":["sections.js"],"names":["portfolio","document","querySelector","makeSection","item","section","createElement","setAttribute","innerHTML","image","title","miniDesc","tools","classList","add","items","forEach","i","appendChild","setTimeout","remove","addEventListener","showSection","e","key","elements","sections","querySelectorAll","overlay","modal","exit","itemBody","viewer","vars","q","length","p","initialX","moveX","finalX","switchContent","focusLink","body","style","overflowY","hideSection","focus","prev","next","cleanUrl","link","replace","url","pDesc","desc","vRatio","window","innerWidth","innerHeight","letters","startTouch","touches","clientX","moveTouch","transform","endTouch","finishSwipe","swiped","event","preventDefault","contains"],"mappings":"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","sourcesContent":["// SECTIONS\r\n\r\nconst portfolio = document.querySelector('main');\r\n\r\nfunction makeSection(item) {\r\n    let section = document.createElement('section');\r\n    section.setAttribute('tabindex', '0');\r\n    section.setAttribute('role', 'button');\r\n    section.innerHTML =\r\n        '<img alt=\"example\" src=\"'\r\n        + item[0].image\r\n        + '\" />'\r\n        + '<div class=\"triangle\"></div>'\r\n        + '<div class=\"itemHead\">'\r\n            + '<h3>'\r\n            + item[0].title\r\n            + '</h3>'\r\n            + '<h4>'\r\n            + item[0].miniDesc\r\n            + '</h4>'\r\n            + '<h6>'\r\n            + item[0].tools\r\n            + '</h6>'\r\n        + '</div>';\r\n    section.classList.add('sueStorm');\r\n    return section;\r\n}\r\n\r\nitems.forEach((item, i) => {\r\n    let section = portfolio.appendChild(makeSection(item));\r\n    setTimeout(() => section.classList.remove('sueStorm'), i * 200);\r\n    section.addEventListener('click', function() {\r\n        showSection(i);\r\n    });\r\n    section.addEventListener('keyup', function(e) {\r\n        if (e.key === 'Enter') showSection(i);\r\n    });\r\n});\r\n\r\n\r\n// VARIABLES\r\n\r\nlet elements = {\r\n    sections: document.querySelectorAll('section'),\r\n    overlay: document.querySelector('#overlay'),\r\n    modal: document.querySelector('#modal'),\r\n    exit: document.querySelector('#exit'),\r\n    itemBody: document.querySelector('#itemBody'),\r\n}\r\n\r\nlet viewer = [elements.overlay, elements.modal, elements.exit];\r\n\r\nlet vars = {\r\n    q: items.length - 1,\r\n    p: 0,\r\n    initialX: 0,\r\n    moveX: 0,\r\n    finalX: 0\r\n}\r\n\r\n\r\n// FUNCTIONS\r\n\r\nfunction showSection(i) {\r\n    vars.p = i;\r\n    viewer.forEach(item => item.classList.add('showHide'));\r\n    switchContent(i);\r\n    focusLink();\r\n    document.body.style.overflowY = 'hidden';\r\n}\r\n\r\nfunction hideSection(i) {\r\n    viewer.forEach(item => item.classList.remove('showHide'));\r\n    elements.sections[i].focus();\r\n    document.body.style.overflowY = 'auto';\r\n}\r\n\r\nfunction prev() {\r\n    vars.p > 0 ? vars.p-- : vars.p = vars.q;\r\n    switchContent(vars.p);\r\n    focusLink();\r\n}\r\n\r\nfunction next() {\r\n    vars.p < vars.q ? vars.p++ : vars.p = 0;\r\n    switchContent(vars.p);\r\n    focusLink();\r\n}\r\n\r\nfunction switchContent(i) {\r\n    let cleanUrl = items[i][0].link.replace(/^https*:\\/\\//, '');\r\n    let url = cleanUrl.length > 0\r\n        ? '<a tabindex=\"0\" href=\"' + items[i][0].link + '\" target=\"_blank\" rel=\"noopener noreferrer\"><h4>' + cleanUrl + '</h4></a>'\r\n        : '<h4>' + items[i][0].miniDesc + '</h4>';\r\n    let pDesc = items[i][0].desc.replace(/\\n/g, '</p><p>');\r\n    let vRatio = window.innerWidth / window.innerHeight > 1;\r\n    let letters = items[i][0].title.length;\r\n    elements.modal.innerHTML =\r\n        '<div>'\r\n            + '<div id=\"itemTitles\">'\r\n                + '<h3 style=\"padding-left: '\r\n                + (10 / letters) + 'vw'\r\n                + '; font-size: '\r\n                + (80 / letters) + 'vw'\r\n                + '; letter-spacing: '\r\n                + (10 / letters) + 'vw'\r\n                + '; line-height: '\r\n                + ((vRatio ? 25 : 10) + (letters > 10 ? letters-4 : letters)) + 'vh\">'\r\n                + items[i][0].title\r\n                + '</h3>'\r\n            + '</div>'\r\n            + '<div id=\"itemBody\">'\r\n                + url\r\n                + '<h5>'\r\n                + items[i][0].tools\r\n                + '</h5>'\r\n                + '<p>'\r\n                + pDesc\r\n                + '</p>'\r\n            + '</div>'\r\n        + '</div>';\r\n}\r\n\r\nfunction focusLink() {\r\n    setTimeout(() => {\r\n        elements.itemBody.querySelector('a').focus();\r\n    }, 100);\r\n}\r\n\r\nfunction startTouch(e) {\r\n    vars.initialX = e.touches[0].clientX;\r\n}\r\n\r\nfunction moveTouch(e) {\r\n    if (vars.initialX === 0) return;\r\n    vars.moveX = e.touches[0].clientX;\r\n    vars.finalX = vars.initialX - vars.moveX;\r\n    elements.modal.style.transform = 'translate(' + (0 - vars.finalX) + 'px)';\r\n}\r\n\r\nfunction endTouch() {\r\n    if (vars.finalX > 100) {\r\n        elements.modal.style.transform = 'translate(-' + window.innerWidth + 'px) scale(0.5)';\r\n        finishSwipe('left');\r\n    } else if (vars.finalX < -100) {\r\n        elements.modal.style.transform = 'translate(' + window.innerWidth + 'px) scale(0.5)';\r\n        finishSwipe('right');\r\n    } else {\r\n        elements.modal.style.transform = 'translate(0)';\r\n    }\r\n    vars.initialX = 0;\r\n    vars.moveX = 0;\r\n    vars.finalX = 0;\r\n}\r\n\r\nfunction finishSwipe(swiped) {\r\n    elements.modal.classList.remove('showHide');\r\n    setTimeout(() => {\r\n        if (swiped === 'left') {\r\n            elements.modal.style.transform = 'translate(' + window.innerWidth + 'px) scale(0.5)';\r\n            next();\r\n        } else {\r\n            elements.modal.style.transform = 'translate(-' + window.innerWidth + 'px) scale(0.5)';\r\n            prev();\r\n        }\r\n        setTimeout(() => {\r\n            elements.modal.classList.add('showHide');\r\n            elements.modal.style.transform = 'translate(0) scale(1)';\r\n        }, 200);\r\n    }, 300);\r\n}\r\n\r\n\r\n// LISTENERS\r\n\r\ndocument.addEventListener('keyup', function (event) {\r\n    event.preventDefault();\r\n    if (elements.modal.classList.contains('showHide')) {\r\n        switch (event.key) {\r\n            case 'Left':\r\n            case 'ArrowLeft':\r\n                prev();\r\n                break;\r\n            case 'Right':\r\n            case 'ArrowRight':\r\n                next();\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n});\r\n\r\ndocument.addEventListener('keyup', function(e) {\r\n    if (e.key === 'Escape') hideSection(vars.p);\r\n});\r\n\r\nelements.overlay.addEventListener('click', function() {\r\n    hideSection(vars.p);\r\n});\r\n\r\nelements.exit.addEventListener('click', function() {\r\n    hideSection(vars.p);\r\n});\r\n\r\nelements.modal.addEventListener('touchstart', startTouch, false);\r\nelements.modal.addEventListener('touchmove', moveTouch, false);\r\nelements.modal.addEventListener('touchend', endTouch, false);"],"file":"sections.js"}