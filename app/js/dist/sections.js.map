{"version":3,"sources":["sections.js"],"names":["portfolio","document","querySelector","makeSection","item","section","createElement","setAttribute","innerHTML","image","title","miniDesc","items","forEach","i","appendChild","addEventListener","showSection","e","key","elements","sections","querySelectorAll","overlay","modal","exit","itemBody","viewer","vars","q","length","p","initialX","moveX","finalX","classList","add","switchContent","focusLink","body","style","overflowY","hideSection","remove","focus","prev","next","cleanUrl","link","replace","url","pDesc","desc","setTimeout","startTouch","touches","clientX","moveTouch","transform","endTouch","window","innerWidth","finishSwipe","swiped","event","preventDefault","contains"],"mappings":"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","sourcesContent":["// SECTIONS\r\n\r\nconst portfolio = document.querySelector('main');\r\n\r\nfunction makeSection(item) {\r\n    let section = document.createElement('section');\r\n    section.setAttribute('tabindex', '0');\r\n    section.setAttribute('role', 'button');\r\n    section.innerHTML =\r\n        '<img alt=\"example\" src=\"'\r\n        + item[0].image\r\n        + '\" /><div class=\"triangle\"></div><div class=\"itemHead\"><h3>'\r\n        + item[0].title\r\n        + '</h3><h4>'\r\n        + item[0].miniDesc\r\n        + '</h4></div>';\r\n    return section;\r\n}\r\n\r\nitems.forEach((item, i) => {\r\n    let section = portfolio.appendChild(makeSection(item));\r\n    section.addEventListener('click', function() {\r\n        showSection(i);\r\n    });\r\n    section.addEventListener('keyup', function(e) {\r\n        if (e.key === 'Enter') showSection(i);\r\n    });\r\n});\r\n\r\n\r\n// VARIABLES\r\n\r\nlet elements = {\r\n    sections: document.querySelectorAll('section'),\r\n    overlay: document.querySelector('#overlay'),\r\n    modal: document.querySelector('#modal'),\r\n    exit: document.querySelector('#exit'),\r\n    itemBody: document.querySelector('#itemBody'),\r\n}\r\n\r\nlet viewer = [elements.overlay, elements.modal, elements.exit];\r\n\r\nlet vars = {\r\n    q: items.length - 1,\r\n    p: 0,\r\n    initialX: 0,\r\n    moveX: 0,\r\n    finalX: 0\r\n}\r\n\r\n\r\n// FUNCTIONS\r\n\r\nfunction showSection(i) {\r\n    vars.p = i;\r\n    viewer.forEach(item => item.classList.add('showHide'));\r\n    switchContent(i);\r\n    focusLink();\r\n    document.body.style.overflowY = 'hidden';\r\n}\r\n\r\nfunction hideSection(i) {\r\n    viewer.forEach(item => item.classList.remove('showHide'));\r\n    elements.sections[i].focus();\r\n    document.body.style.overflowY = 'auto';\r\n}\r\n\r\nfunction prev() {\r\n    vars.p > 0 ? vars.p-- : vars.p = vars.q;\r\n    switchContent(vars.p);\r\n    focusLink();\r\n}\r\n\r\nfunction next() {\r\n    vars.p < vars.q ? vars.p++ : vars.p = 0;\r\n    switchContent(vars.p);\r\n    focusLink();\r\n}\r\n\r\nfunction switchContent(i) {\r\n    let cleanUrl = items[i][0].link.replace(/^https*:\\/\\//, '');\r\n    let url = cleanUrl.length > 0\r\n        ? '<a tabindex=\"0\" href=\"' + items[i][0].link + '\" target=\"_blank\" rel=\"noopener noreferrer\"><h5>' + cleanUrl + '</h5></a>'\r\n        : '<h5>' + items[i][0].miniDesc + '</h5>';\r\n    let pDesc = items[i][0].desc.replace(/\\n/g, '</p><p>');\r\n    elements.itemBody.innerHTML =\r\n        '<h4>'\r\n        + items[i][0].title\r\n        + '</h4>'\r\n        + url\r\n        + '<p>'\r\n        + pDesc\r\n        + '</p>';\r\n}\r\n\r\nfunction focusLink() {\r\n    setTimeout(() => {\r\n        elements.itemBody.querySelector('a').focus();\r\n    }, 100);\r\n}\r\n\r\nfunction startTouch(e) {\r\n    vars.initialX = e.touches[0].clientX;\r\n}\r\n\r\nfunction moveTouch(e) {\r\n    if (vars.initialX === 0) return;\r\n    vars.moveX = e.touches[0].clientX;\r\n    vars.finalX = vars.initialX - vars.moveX;\r\n    elements.modal.style.transform = 'translate(' + (0 - vars.finalX) + 'px)';\r\n}\r\n\r\nfunction endTouch() {\r\n    if (vars.finalX > 100) {\r\n        elements.modal.style.transform = 'translate(-' + window.innerWidth + 'px) scale(0.5)';\r\n        finishSwipe('left');\r\n    } else if (vars.finalX < -100) {\r\n        elements.modal.style.transform = 'translate(' + window.innerWidth + 'px) scale(0.5)';\r\n        finishSwipe('right');\r\n    } else {\r\n        elements.modal.style.transform = 'translate(0)';\r\n    }\r\n    vars.initialX = 0;\r\n    vars.moveX = 0;\r\n    vars.finalX = 0;\r\n}\r\n\r\nfunction finishSwipe(swiped) {\r\n    elements.modal.classList.remove('showHide');\r\n    setTimeout(() => {\r\n        if (swiped === 'left') {\r\n            elements.modal.style.transform = 'translate(' + window.innerWidth + 'px) scale(0.5)';\r\n            next();\r\n        } else {\r\n            elements.modal.style.transform = 'translate(-' + window.innerWidth + 'px) scale(0.5)';\r\n            prev();\r\n        }\r\n        setTimeout(() => {\r\n            elements.modal.classList.add('showHide');\r\n            elements.modal.style.transform = 'translate(0) scale(1)';\r\n        }, 200);\r\n    }, 300);\r\n}\r\n\r\n\r\n// LISTENERS\r\n\r\ndocument.addEventListener('keyup', function (event) {\r\n    event.preventDefault();\r\n    if (elements.modal.classList.contains('showHide')) {\r\n        switch (event.key) {\r\n            case 'Left':\r\n            case 'ArrowLeft':\r\n                prev();\r\n                break;\r\n            case 'Right':\r\n            case 'ArrowRight':\r\n                next();\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n});\r\n\r\ndocument.addEventListener('keyup', function(e) {\r\n    if (e.key === 'Escape') hideSection(vars.p);\r\n});\r\n\r\nelements.overlay.addEventListener('click', function () {\r\n    hideSection(vars.p);\r\n});\r\n\r\nelements.exit.addEventListener('click', function () {\r\n    hideSection(vars.p);\r\n});\r\n\r\nelements.modal.addEventListener('touchstart', startTouch, false);\r\nelements.modal.addEventListener('touchmove', moveTouch, false);\r\nelements.modal.addEventListener('touchend', endTouch, false);"],"file":"sections.js"}