{"version":3,"sources":["app.js"],"names":["portfolio","document","querySelector","makeSection","item","section","createElement","setAttribute","innerHTML","image","title","miniDesc","items","forEach","i","appendChild","addEventListener","showSection","e","key","elements","navButton","navItems","sections","querySelectorAll","overlay","modal","exit","itemBody","viewer","vars","q","length","p","initialX","moveX","finalX","classList","add","switchContent","focusLink","body","style","overflowY","hideSection","remove","focus","prev","next","cleanUrl","link","replace","url","pDesc","desc","setTimeout","startTouch","touches","clientX","moveTouch","transform","endTouch","window","innerWidth","finishSwipe","swiped","toggle","event","preventDefault","contains"],"mappings":"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","sourcesContent":["// SECTIONS\r\n\r\nconst portfolio = document.querySelector('main');\r\n\r\nfunction makeSection(item) {\r\n    let section = document.createElement('section');\r\n    section.setAttribute('tabindex', '0');\r\n    section.setAttribute('role', 'button');\r\n    section.innerHTML =\r\n        '<img alt=\"example\" src=\"'\r\n        + item[0].image\r\n        + '\" /><div class=\"triangle\"></div><div class=\"itemHead\"><h3>'\r\n        + item[0].title\r\n        + '</h3><h4>'\r\n        + item[0].miniDesc\r\n        + '</h4></div>';\r\n    return section;\r\n}\r\n\r\nitems.forEach((item, i) => {\r\n    let section = portfolio.appendChild(makeSection(item));\r\n    section.addEventListener('click', function() {\r\n        showSection(i);\r\n    });\r\n    section.addEventListener('keyup', function(e) {\r\n        if (e.key === 'Enter') showSection(i);\r\n    });\r\n});\r\n\r\n\r\n// VARIABLES\r\n\r\nlet elements = {\r\n    navButton: document.querySelector('nav button'),\r\n    navItems: document.querySelector('nav > div'),\r\n    sections: document.querySelectorAll('section'),\r\n    overlay: document.querySelector('#overlay'),\r\n    modal: document.querySelector('#modal'),\r\n    exit: document.querySelector('#exit'),\r\n    itemBody: document.querySelector('#itemBody'),\r\n}\r\n\r\nlet viewer = [elements.overlay, elements.modal, elements.exit];\r\n\r\nlet vars = {\r\n    q: items.length - 1,\r\n    p: 0,\r\n    initialX: 0,\r\n    moveX: 0,\r\n    finalX: 0\r\n}\r\n\r\n\r\n// FUNCTIONS\r\n\r\nfunction showSection(i) {\r\n    vars.p = i;\r\n    viewer.forEach(item => item.classList.add('showHide'));\r\n    switchContent(i);\r\n    focusLink();\r\n    document.body.style.overflowY = 'hidden';\r\n}\r\n\r\nfunction hideSection(i) {\r\n    viewer.forEach(item => item.classList.remove('showHide'));\r\n    elements.sections[i].focus();\r\n    document.body.style.overflowY = 'auto';\r\n}\r\n\r\nfunction prev() {\r\n    vars.p > 0 ? vars.p-- : vars.p = vars.q;\r\n    switchContent(vars.p);\r\n    focusLink();\r\n}\r\n\r\nfunction next() {\r\n    vars.p < vars.q ? vars.p++ : vars.p = 0;\r\n    switchContent(vars.p);\r\n    focusLink();\r\n}\r\n\r\nfunction switchContent(i) {\r\n    let cleanUrl = items[i][0].link.replace(/^https*:\\/\\//, '');\r\n    let url = cleanUrl.length > 0\r\n        ? '<a tabindex=\"0\" href=\"' + items[i][0].link + '\" target=\"_blank\" rel=\"noopener noreferrer\"><h5>' + cleanUrl + '</h5></a>'\r\n        : '<h5>' + items[i][0].miniDesc + '</h5>';\r\n    let pDesc = items[i][0].desc.replace(/\\n/g, '</p><p>');\r\n    elements.itemBody.innerHTML =\r\n        '<h4>'\r\n        + items[i][0].title\r\n        + '</h4>'\r\n        + url\r\n        + '<p>'\r\n        + pDesc\r\n        + '</p>';\r\n}\r\n\r\nfunction focusLink() {\r\n    setTimeout(() => {\r\n        elements.itemBody.querySelector('a').focus();\r\n    }, 100);\r\n}\r\n\r\nfunction startTouch(e) {\r\n    vars.initialX = e.touches[0].clientX;\r\n}\r\n\r\nfunction moveTouch(e) {\r\n    if (vars.initialX === 0) return;\r\n    vars.moveX = e.touches[0].clientX;\r\n    vars.finalX = vars.initialX - vars.moveX;\r\n    elements.modal.style.transform = 'translate(' + (0 - vars.finalX) + 'px)';\r\n}\r\n\r\nfunction endTouch() {\r\n    if (vars.finalX > 100) {\r\n        elements.modal.style.transform = 'translate(-' + window.innerWidth + 'px) scale(0.5)';\r\n        finishSwipe('left');\r\n    } else if (vars.finalX < -100) {\r\n        elements.modal.style.transform = 'translate(' + window.innerWidth + 'px) scale(0.5)';\r\n        finishSwipe('right');\r\n    } else {\r\n        elements.modal.style.transform = 'translate(0)';\r\n    }\r\n    vars.initialX = 0;\r\n    vars.moveX = 0;\r\n    vars.finalX = 0;\r\n}\r\n\r\nfunction finishSwipe(swiped) {\r\n    elements.modal.classList.remove('showHide');\r\n    setTimeout(() => {\r\n        if (swiped === 'left') {\r\n            elements.modal.style.transform = 'translate(' + window.innerWidth + 'px) scale(0.5)';\r\n            next();\r\n        } else {\r\n            elements.modal.style.transform = 'translate(-' + window.innerWidth + 'px) scale(0.5)';\r\n            prev();\r\n        }\r\n        setTimeout(() => {\r\n            elements.modal.classList.add('showHide');\r\n            elements.modal.style.transform = 'translate(0) scale(1)';\r\n        }, 200);\r\n    }, 300);\r\n}\r\n\r\n\r\n// LISTENERS\r\n\r\nelements.navButton.addEventListener('click', function() {\r\n    elements.navItems.classList.toggle('showHide');\r\n});\r\n\r\ndocument.addEventListener('keyup', function (event) {\r\n    event.preventDefault();\r\n    if (elements.modal.classList.contains('showHide')) {\r\n        switch (event.key) {\r\n            case 'Left':\r\n            case 'ArrowLeft':\r\n                prev();\r\n                break;\r\n            case 'Right':\r\n            case 'ArrowRight':\r\n                next();\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n});\r\n\r\ndocument.addEventListener('keyup', function(e) {\r\n    if (e.key === 'Escape') hideSection(vars.p);\r\n});\r\n\r\nelements.overlay.addEventListener('click', function () {\r\n    hideSection(vars.p);\r\n});\r\n\r\nelements.exit.addEventListener('click', function () {\r\n    hideSection(vars.p);\r\n});\r\n\r\nelements.modal.addEventListener('touchstart', startTouch, false);\r\nelements.modal.addEventListener('touchmove', moveTouch, false);\r\nelements.modal.addEventListener('touchend', endTouch, false);"],"file":"app.js"}