{"version":3,"sources":["app.js"],"names":["portfolio","document","querySelector","makeSection","item","section","createElement","setAttribute","innerHTML","image","title","miniDesc","items","forEach","i","appendChild","addEventListener","showSection","e","key","elements","navButton","navItems","sections","querySelectorAll","overlay","modal","exit","itemBody","viewer","vars","q","length","p","initialX","moveX","finalX","classList","add","switchContent","focusLink","hideSection","remove","focus","prev","next","cleanUrl","link","replace","pDesc","desc","setTimeout","startTouch","touches","clientX","moveTouch","preventDefault","style","transform","endTouch","window","innerWidth","finishSwipe","swiped","toggle","event","contains"],"mappings":"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","sourcesContent":["// SECTIONS\n\nconst portfolio = document.querySelector('main');\n\nfunction makeSection(item) {\n    let section = document.createElement('section');\n    section.setAttribute('tabindex', '0');\n    section.setAttribute('role', 'button');\n    section.innerHTML =\n        '<img alt=\"example\" src=\"'\n        + item[0].image\n        + '\" /><div class=\"triangle\"></div><div class=\"itemHead\"><h3>'\n        + item[0].title\n        + '</h3><h4>'\n        + item[0].miniDesc\n        + '</h4></div>';\n    return section;\n}\n\nitems.forEach((item, i) => {\n    let section = portfolio.appendChild(makeSection(item));\n    section.addEventListener('click', function() {\n        showSection(i);\n    });\n    section.addEventListener('keyup', function(e) {\n        if (e.key === 'Enter') showSection(i);\n    });\n});\n\n\n// VARIABLES\n\nlet elements = {\n    navButton: document.querySelector('nav button'),\n    navItems: document.querySelector('nav > div'),\n    sections: document.querySelectorAll('section'),\n    overlay: document.querySelector('#overlay'),\n    modal: document.querySelector('#modal'),\n    exit: document.querySelector('#exit'),\n    itemBody: document.querySelector('#itemBody'),\n}\n\nlet viewer = [elements.overlay, elements.modal, elements.exit];\n\nlet vars = {\n    q: items.length - 1,\n    p: 0,\n    initialX: 0,\n    moveX: 0,\n    finalX: 0\n}\n\n\n// FUNCTIONS\n\nfunction showSection(i) {\n    vars.p = i;\n    viewer.forEach(item => item.classList.add('showHide'));\n    switchContent(i);\n    focusLink();\n}\n\nfunction hideSection(i) {\n    viewer.forEach(item => item.classList.remove('showHide'));\n    elements.sections[i].focus();\n}\n\nfunction prev() {\n    vars.p > 0 ? vars.p-- : vars.p = vars.q;\n    switchContent(vars.p);\n    focusLink();\n}\n\nfunction next() {\n    vars.p < vars.q ? vars.p++ : vars.p = 0;\n    switchContent(vars.p);\n    focusLink();\n}\n\nfunction switchContent(i) {\n    let cleanUrl = items[i][0].link.replace(/^https*:\\/\\//, '');\n    let pDesc = items[i][0].desc.replace(/\\n/g, '</p><p>');\n    elements.itemBody.innerHTML =\n        '<h4>'\n        + items[i][0].title\n        + '</h4><a tabindex=\"0\" href=\"'\n        + items[i][0].link\n        + '\" target=\"_blank\" rel=\"noopener noreferrer\"><h5>'\n        + cleanUrl\n        + '</h5></a><p>'\n        + pDesc\n        + '</p>';\n}\n\nfunction focusLink() {\n    setTimeout(() => {\n        elements.itemBody.querySelector('a').focus();\n    }, 100);\n}\n\nfunction startTouch(e) {\n    vars.initialX = e.touches[0].clientX;\n}\n\nfunction moveTouch(e) {\n    e.preventDefault();\n    if (vars.initialX === 0) return;\n    vars.moveX = e.touches[0].clientX;\n    vars.finalX = vars.initialX - vars.moveX;\n    elements.modal.style.transform = 'translate(' + (0 - vars.finalX) + 'px)';\n}\n\nfunction endTouch() {\n    if (vars.finalX > 100) {\n        elements.modal.style.transform = 'translate(-' + window.innerWidth + 'px) scale(0.5)';\n        finishSwipe('left');\n    } else if (vars.finalX < -100) {\n        elements.modal.style.transform = 'translate(' + window.innerWidth + 'px) scale(0.5)';\n        finishSwipe('right');\n    } else {\n        elements.modal.style.transform = 'translate(0)';\n    }\n    vars.initialX = 0;\n    vars.moveX = 0;\n    vars.finalX = 0;\n}\n\nfunction finishSwipe(swiped) {\n    elements.modal.classList.remove('showHide');\n    setTimeout(() => {\n        if (swiped === 'left') {\n            elements.modal.style.transform = 'translate(' + window.innerWidth + 'px) scale(0.5)';\n            next();\n        } else {\n            elements.modal.style.transform = 'translate(-' + window.innerWidth + 'px) scale(0.5)';\n            prev();\n        }\n        setTimeout(() => {\n            elements.modal.classList.add('showHide');\n            elements.modal.style.transform = 'translate(0) scale(1)';\n        }, 200);\n    }, 300);\n}\n\n\n// LISTENERS\n\nelements.navButton.addEventListener('click', function() {\n    elements.navItems.classList.toggle('showHide');\n});\n\ndocument.addEventListener('keyup', function (event) {\n    event.preventDefault();\n    if (elements.modal.classList.contains('showHide')) {\n        switch (event.key) {\n            case 'Left':\n            case 'ArrowLeft':\n                prev();\n                break;\n            case 'Right':\n            case 'ArrowRight':\n                next();\n                break;\n            default:\n                return;\n        }\n    }\n});\n\ndocument.addEventListener('keyup', function(e) {\n    if (e.key === 'Escape') hideSection(vars.p);\n});\n\nelements.overlay.addEventListener('click', function () {\n    hideSection(vars.p);\n});\n\nelements.exit.addEventListener('click', function () {\n    hideSection(vars.p);\n});\n\nelements.modal.addEventListener('touchstart', startTouch, false);\nelements.modal.addEventListener('touchmove', moveTouch, false);\nelements.modal.addEventListener('touchend', endTouch, false);"],"file":"app.js"}